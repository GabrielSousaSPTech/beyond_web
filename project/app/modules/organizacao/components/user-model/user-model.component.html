<app-base-modal 
  [isOpen]="openModal()"
  [title]="title"
  (closeModal)="onClose()">
  <div modal-body>
    @if(!delUserConfirmation()){
      <form [formGroup]="userForm">
        <div class="form-group">
          <label for="selc_perm">Permissão: </label>
          <app-custom-select formControlName="perm" name="selc_perm" [options]="permissoesTransformadas()" [placeholder]="'Nivel de Permissão'"></app-custom-select>
        </div>
      </form>
    } @else {
      <div class="btn-wrapper">
        <button type="button" class="btn btn-cancel-delete" (click)="deleteUser()">Deletar</button>
        <button type="button" class="btn btn-delete-user" (click)="cancelDelete()">Cancelar</button>
      </div>
    }
  </div>

  <div modal-footer>
    @if(!delUserConfirmation()){
      @if (alterUser()) {
        <button type="button" (click)="submit()" class="btn btn-save" [disabled]="userForm.pristine">Salvar alterações</button>
      } @else {
        <button type="button" (click)="updateUser()" class="btn btn-alterUser">Alterar Permissão</button>
      }
      <button type="button" (click)="confirmDeleteUser()" class="btn btn-deleteUser">Deletar Usuário</button>
    }
  </div>
</app-base-modal>

