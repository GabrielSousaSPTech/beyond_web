<div class="container">
    <div class="card">
      <div class="menu-icon">
        <img src="assets/icons/misc/icon-user-menu.svg" alt="Menu" />
      </div>
      <div class="profile-picture-container">

        <div class="profile-picture">
          <img id="icon-user" [src]="getFotoUsuario()" alt="Foto de perfil" />
        <div class="photo-overlay" (click)="fileInput.click()">
          <div class="camera-icon">
           <i class="bi bi-camera" style="font-size: 24px; color: white;"></i>
          </div>
          <span class="photo-text">Alterar foto</span>
        </div>
        <input type="file" 
             #fileInput
             accept="image/jpeg,image/jpg,image/png,image/gif"
             (change)="onFileSelected($event)"
             style="display: none" />
        </div>
      </div>
      <h2>{{usuario.NOME | titlecase}}</h2>
      <h3>{{usuario.TIPO}}</h3>

      <div class="contact-info">
       
        @if(estadoFormulario()){
          <form [formGroup]="userForm">
          <label for="telefone">Telefone:</label>
          <input type="text" id="telefone" placeholder="11 0000-0000" formControlName="telefone"/>
          
          <label for="email">Email:</label>
          <input type="email" id="email" placeholder="email@exemplo.com" formControlName="email"/>
          <label for="cpf">CPF:</label>
          <input type="text" id="cpf" placeholder="000.000.000-00" formControlName="cpf"/>
          <p [ngStyle]="{
    'color': interacaoUsuario() == 'Atualizado com sucesso!' ? '#00FF00' : '#FF0000',
    'font-weight': 'bold', 'text-align': 'center', 'font-size': '18px'
  }">
  {{interacaoUsuario()}}
</p>
          <div class="button-alterar">
            <button type="submit" (click)="submitForm()" [disabled]="userForm.invalid">Alterar</button>
          </div>
          <p class="alterar-senha-link" (click)="alterarForm()">Alterar senha</p>
        </form>
      }@else{
          <form [formGroup]="formSenha">
          
          <input type="password" placeholder="Senha atual" formControlName="senhaAtual"/>
          <input type="password" placeholder="Nova senha" formControlName="novaSenha"/>
          <input type="password" placeholder="Digite novamente" formControlName="confirmarSenha"/>
          <p [ngStyle]="{
    'color': interacaoUsuario() == 'Atualizado com sucesso!' ? '#00FF00' : '#FF0000',
    'font-weight': 'bold', 'text-align': 'center', 'font-size': '18px'
  }">
  {{interacaoUsuario()}}
</p>
          <div class="button-alterar">
            <button type="submit" (click)="submitFormSenha()" [disabled]="formSenha.invalid">Alterar Senha</button>
          </div>
          <p class="alterar-senha-link" (click)="alterarForm()">Voltar</p>
        </form>
      }
      </div>
    </div>
  </div>

